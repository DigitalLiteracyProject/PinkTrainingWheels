<!DOCTYPE HTML>
<html>
    <head>
	<script type="text/javascript" src="processing.min.js"></script>
	<script type="text/javascript">
        const script = document.getElementById('script');
        const code = document.getElementById('code');
        const newCode = document.getElementById('newCode');
	 function run(){
	     script.text = code.value;
	     Processing.reload();
	 }
        function newText (){
            console.log(newCode);
            //code.value = newCode.innerHTML;
        }
	</script>
    </head>
    <body>
	<textarea id="code"></textarea>
	<script type="text/processing" id="script">
	 background(0,100,0);
	 console.log('done');
	</script>
	<canvas id="canvas"></canvas>
	<button onClick="run()">Run</button>
        <button onClick="newText()" id="newCode">background(white)</button>
    </body>
</html>
