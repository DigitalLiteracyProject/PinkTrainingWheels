<!DOCTYPE HTML>
<html>
    <head>
    <link rel="stylesheet" type="text/css" href="wheels.css">
    <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
    <script type="text/javascript" src="button.js"></script>
    <script type="text/javascript" src="app.js"></script>
    <script type="text/javascript" src="editor.js"></script>
    <script type="text/javascript" src="processing.min.js"></script>
    <script type="text/javascript">
    // sets variables using ids parts of page
    window.onload = function(){
        const script = document.getElementById('script');
        const textarea = document.getElementById('textarea');
        var buttons = document.getElementsByTagName('button'),
            buttonsCount = buttons.length;
        ReactDOM.render(React.createElement(App, {addText: newText}),
                        document.getElementById('root'));
        
        // create the textarea 
        ReactDOM.render(React.createElement(Editor, null),
                        document.getElementById('codeEditor'));
   
    }
	 function run(){
	     script.text = textarea.value;
	     Processing.reload();
	 }
        // appends html from button into text area, followed by new line
    function newText (newCode){
        textarea.value = textarea.value + newCode + '\n';
    }
	</script>
    </head>
    <body>
    <section>
    <main id='root'></main>
    <div style="width: 300px;">
        <div style="width: 200px">
	        <textarea id="textarea" rows="4" cols="50"></textarea>
            <button onClick="run()">Run</button>
        </div>
        <div id="codeEditor"></div>
    </div>
        	<script type="text/processing" id="script">
	 background(0,100,0);
	 console.log('done');
	</script>
	<canvas id="canvas" style="text-align:center; display: inline; width 100px;"></canvas>
    <div id="canvas"></div>
    </section>
    </body>
</html>
